import React from 'react'
import ImageFadeIn from "react-image-fade-in";
import Img from 'gatsby-image'
import {graphql, useStaticQuery} from 'gatsby'


import Layout from '../components/layout'
import Head from '../components/head'
import indexStyles from './index.module.scss'

const IndexPage = () => {

  const data = useStaticQuery(graphql`
  query {
    allFile(
      filter: {
        extension: { regex: "/(jpg)|(png)|(tif)|(tiff)|(webp)|(jpeg)/" }
        absolutePath: { regex: "/img/" }
      }
    ) {
      edges {
        node {
          name
          childImageSharp {
            fluid(maxWidth: 915, quality: 70) {
              aspectRatio
              ...GatsbyImageSharpFluid_withWebp
            }
          }
        }
      }
    }
  }
`)

  return (
      <Layout>
        <Head title="Home"/>
        <div className={indexStyles.container}>            

        {data.allFile.edges.map(({ node }, i) => (
    <Img
      key={i}
      fluid={node.childImageSharp.fluid}
      alt={node.name}
    />
  ))}    


            <div className={indexStyles.topLeft}>
              <h1>Consectetur adipiscing,</h1>
              <h2>Lorem ipsum dolor sit amet, consectetur adipiscing elit! </h2>
            </div>
            
        </div>
      </Layout>
  )

}

export default IndexPage